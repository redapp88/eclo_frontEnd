<form [formGroup]="form">
    <ion-grid>
        <ion-row>
            <ion-col size="1">
                <ion-back-button defaultHref="/adminArea/programs"></ion-back-button>
            </ion-col>
            <ion-col size="5">
            <ion-item>
                <ion-label class="font-weight-bolder">Programme : {{month}}/{{year}}</ion-label>
            </ion-item>
            </ion-col>
            <ion-col size="4">
                <ion-item>
                    <ion-select formControlName="categorie" (ionChange)="loadUsersWithLessonsCount()">
                        <ion-select-option  *ngFor="let categorie of usersCategories" [value]="categorie.id">{{categorie.name}}</ion-select-option>
                    </ion-select>
                </ion-item>
            </ion-col>
            <ion-col size="1" >
                <ion-icon size="large" name="eye-outline" (click)="onShowGeneralProgram()"></ion-icon>
            </ion-col>
            <ion-col size="1">
                <ion-icon size="large" name="download-outline" (click)="onDownloadProgram()"></ion-icon>
            </ion-col>
        </ion-row>
        <ion-row>

<ion-col>
            <ion-item>
                <ion-label position="floating">Mot clefs</ion-label>
                <ion-input formControlName="keyword" type="text" (ionChange)="loadUsersWithLessonsCount()"></ion-input>
            </ion-item>
</ion-col>
        </ion-row>
        <ion-row>
            <ion-col>
                <ion-spinner *ngIf="isLoading" ></ion-spinner>
                <ion-list *ngIf="!isLoading" >
                    <ion-item *ngFor="let u of loadedUsersWithCount" [ngClass]="{'text-danger': u.lessonsCount===0}" >
                        <ion-label  >{{u.user.name}}</ion-label>
                        <ion-label>{{u.lessonsCount}}</ion-label>
                        <ion-label >
                            <ion-icon size="big" *ngIf="u.lessonsCount>0" name="eye-outline" (click)="onShowProgram(u.user.username,u.user.name)">

                            </ion-icon>
                        </ion-label>
                        <ion-label >
                            <ion-icon size="big" *ngIf="u.lessonsCount>0" name="download-outline"></ion-icon>
                        </ion-label>

                    </ion-item>
                </ion-list>
            </ion-col>
        </ion-row>
    </ion-grid>
</form>